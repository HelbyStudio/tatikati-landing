---
import { useTranslations } from '../../i18n/utils';

interface Props {
  date: Date | string;
}

const { date } = Astro.props;
const currentLocale = Astro.currentLocale || 'fr';
const t = useTranslations(currentLocale);

const formattedDate = new Date(date).toLocaleDateString(
  currentLocale === 'fr' ? 'fr-FR' : 'en-US',
  {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  }
);
---

<div class="last-updated">
  <span>{t('legal.lastUpdated')}: {formattedDate}</span>
</div>

<style>
  .last-updated {
    background: linear-gradient(90deg, var(--color-accent-1), var(--color-accent-2));
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 2rem;
    display: inline-block;
    margin: 1.5rem 0;
    font-size: 0.875rem;
    font-weight: 500;
  }

  .last-updated span {
    color: white;
  }
</style>