---
import BaseLayout from '../layouts/BaseLayout.astro';
import NavBar from '../components/NavBar.astro';
import Hero from '../components/Hero.astro';
import Features from '../components/Features.astro';
import PodcastScroller from '../components/PodcastScroller.astro';
import Reviews from '../components/Reviews.astro';
import FAQ from '../components/FAQ.astro';
import Download from '../components/Download.astro';
import Footer from '../components/Footer.astro';
import { useTranslations } from '../i18n/utils.js';

// Get translations for French (default locale)
const t = useTranslations('fr');

// Page metadata
const title = t('meta.title');
const description = t('meta.description');
---

<BaseLayout 
  title={title} 
  description={description}
  structuredDataType="WebSite"
  structuredData={{
    "potentialAction": {
      "@type": "SearchAction",
      "target": `https://tatikati.app/blog?search={search_term_string}`,
      "query-input": "required name=search_term_string"
    }
  }}
>
  <main id="main">
    <!-- Hero Section -->
    <Hero 
      title={t('hero.title')}
      subtitle={t('hero.subtitle')}
      description={t('hero.description')}
      ctaText={t('hero.cta')}
      ctaLink="#download"
      heroImage="https://images.unsplash.com/photo-1544717297-fa95b6ee9643?w=600&h=400&fit=crop&crop=center"
      heroImageAlt={t('hero.heroImageAlt')}
      locale="fr"
    />

    <!-- Features Section -->
    <Features 
      title={t('features.title')}
      subtitle={t('features.subtitle')}
      locale="fr"
    />

    <!-- Podcast Scroller Section -->
    <PodcastScroller 
      title={t('podcasts.title')}
      subtitle={t('podcasts.subtitle')}
      locale="fr"
    />

    <!-- Reviews Section -->
    <Reviews 
      title={t('reviews.title')}
      subtitle={t('reviews.subtitle')}
      locale="fr"
    />

    <!-- FAQ Section -->
    <FAQ 
      title={t('faq.title')}
      subtitle={t('faq.subtitle')}
      locale="fr"
    />

    <!-- Download Section -->
    <Download 
      title={t('download.title')}
      description={t('download.description')}
      locale="fr"
    />
  </main>

  <!-- Load PodcastScroller JavaScript -->
  <script>
    import('../components/PodcastScroller.ts');
  </script>
</BaseLayout>