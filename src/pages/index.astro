---
import BaseLayout from '../layouts/BaseLayout.astro';
import NavBar from '../components/NavBar.astro';
import Hero from '../components/Hero.astro';
import Features from '../components/Features.astro';
import PodcastScroller from '../components/PodcastScroller.astro';
import Reviews from '../components/Reviews.astro';
import FAQ from '../components/FAQ.astro';
import Footer from '../components/Footer.astro';

// Page metadata
const title = "Tatikati - Podcasts pour enfants sans écran";
const description = "Découvrez l'application qui révolutionne l'écoute de podcasts pour les enfants. Mode enfant sécurisé, navigation audio, et des contenus soigneusement sélectionnés sans algorithme intrusif.";
---

<BaseLayout 
  title={title} 
  description={description}
  structuredDataType="WebSite"
  structuredData={{
    "potentialAction": {
      "@type": "SearchAction",
      "target": `https://tatikati.app/blog?search={search_term_string}`,
      "query-input": "required name=search_term_string"
    }
  }}
>
  <!-- Navigation -->
  <NavBar />
  
  <!-- Main Content -->
  <main id="main">
    <!-- Hero Section -->
    <Hero 
      title="Des podcasts pour enfants sans écran"
      subtitle="Tatikati"
      description="Découvrez l'application qui révolutionne l'écoute de podcasts pour les enfants. Mode enfant sécurisé, navigation audio, et des contenus soigneusement sélectionnés sans algorithme intrusif."
      ctaText="Télécharger gratuitement"
      ctaLink="#download"
      heroImage="https://images.unsplash.com/photo-1544717297-fa95b6ee9643?w=600&h=400&fit=crop&crop=center"
      heroImageAlt="Enfant écoutant des podcasts avec des écouteurs colorés"
    />

    <!-- Features Section -->
    <Features 
      title="Pourquoi choisir Tatikati ?"
      subtitle="Des fonctionnalités pensées pour les enfants et leurs parents"
    />

    <!-- Podcast Scroller Section -->
    <PodcastScroller 
      title="Découvrez nos podcasts"
      subtitle="Des contenus soigneusement sélectionnés pour éveiller la curiosité"
    />

    <!-- Reviews Section -->
    <Reviews 
      title="Ce que disent les parents"
      subtitle="Des milliers de familles font déjà confiance à Tatikati"
    />

    <!-- FAQ Section -->
    <FAQ 
      title="Questions fréquentes"
      subtitle="Tout ce que vous devez savoir sur Tatikati"
    />

    <!-- Download Section -->
    <section class="download" id="download">
      <div class="container">
        <div class="download-content">
          <div class="download-text">
            <h2 class="download-title">Prêt à commencer l'aventure ?</h2>
            <p class="download-description">
              Rejoignez des milliers de familles qui ont déjà adopté Tatikati pour des moments d'écoute de qualité.
            </p>
            <div class="download-features">
              <div class="feature-item">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M10 18L2.5 10.5C1 9 1 6.5 2.5 5S6 4 7.5 5.5L10 8l2.5-2.5C14 4 17 4 18.5 5.5S20 9 18.5 10.5L10 18z"/>
                </svg>
                <span>Gratuit avec contenus premium</span>
              </div>
              <div class="feature-item">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M10 2C13.31 2 16 4.69 16 8C16 12.5 10 18 10 18S4 12.5 4 8C4 4.69 6.69 2 10 2Z"/>
                  <circle cx="10" cy="8" r="2"/>
                </svg>
                <span>Mode enfant sécurisé</span>
              </div>
              <div class="feature-item">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M4 4V16H16V8H10L8 6H4Z"/>
                </svg>
                <span>500+ podcasts sélectionnés</span>
              </div>
            </div>
          </div>

          <div class="download-apps">
            <a 
              href="https://apps.apple.com/fr/app/tatikati" 
              class="app-download ios-download"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img 
                src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/fr-fr?size=250x83&releaseDate=1609459200"
                alt="Télécharger sur l'App Store"
                width="180"
                height="60"
                loading="lazy"
              />
            </a>
            
            <a 
              href="https://play.google.com/store/apps/details?id=com.tatikati.app" 
              class="app-download android-download"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img 
                src="https://play.google.com/intl/en_us/badges/static/images/badges/fr_badge_web_generic.png"
                alt="Disponible sur Google Play"
                width="180"
                height="70"
                loading="lazy"
              />
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <Footer />

  <!-- Load PodcastScroller JavaScript -->
  <script>
    import('../components/PodcastScroller.ts');
  </script>
</BaseLayout>

<style>
  .download {
    padding: var(--space-4xl) 0;
    background: linear-gradient(135deg, var(--color-accent-4), var(--color-accent-3));
    color: white;
  }

  .download-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-3xl);
    align-items: center;
    text-align: center;
  }

  .download-title {
    font-family: var(--font-heading);
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 700;
    margin-bottom: var(--space-lg);
    color: white;
  }

  .download-description {
    font-size: clamp(1.1rem, 2vw, 1.25rem);
    line-height: 1.6;
    margin-bottom: var(--space-xl);
    color: rgba(255, 255, 255, 0.9);
  }

  .download-features {
    display: flex;
    justify-content: center;
    gap: var(--space-xl);
    flex-wrap: wrap;
    margin-bottom: var(--space-xl);
  }

  .feature-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    color: rgba(255, 255, 255, 0.9);
    font-size: 0.95rem;
  }

  .download-apps {
    display: flex;
    justify-content: center;
    gap: var(--space-lg);
    flex-wrap: wrap;
  }

  .app-download {
    display: block;
    transition: transform 0.2s ease;
  }

  .app-download:hover {
    transform: scale(1.05);
  }

  .app-download img {
    height: auto;
    max-width: 180px;
  }

  /* Responsive Design */
  @media (min-width: 768px) {
    .download-content {
      grid-template-columns: 1fr 1fr;
      text-align: left;
    }

    .download-apps {
      justify-content: flex-start;
    }

    .download-features {
      justify-content: flex-start;
    }
  }

  @media (max-width: 767px) {
    .download-features {
      flex-direction: column;
      align-items: center;
      gap: var(--space-md);
    }

    .download-apps {
      flex-direction: column;
      align-items: center;
    }
  }

  /* Dark Mode */
  @media (prefers-color-scheme: dark) {
    .download {
      background: linear-gradient(135deg, rgba(107, 203, 119, 0.8), rgba(77, 150, 255, 0.8));
    }
  }
</style>
